<% layout('layouts/boilerplate') %>

<div class="container mt-5 pt-5 mb-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-5">
      <div class="auth-card shadow-lg border-0">
        <div class="auth-header-img position-relative">
          <img
            src="https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&w=800&q=80"
            alt="Sign Up"
            class="card-img-top auth-img"
          />
          <div class="auth-overlay">
            <h2 class="auth-brand m-0">NOVA</h2>
            <p class="small opacity-75">Join our curated community</p>
          </div>
        </div>

        <div class="card-body p-4 p-md-5">
          <h4 class="fw-bold mb-4 text-center">Create Account</h4>

          <form
            action="/signup"
            method="POST"
            class="validated-form"
            novalidate
          >
            <div class="form-floating mb-3">
              <input
                class="form-control custom-input"
                type="text"
                id="username"
                name="username"
                placeholder="Username"
                required
                autofocus
              />
              <label for="username">Username</label>
              <div class="invalid-feedback">
                Please choose a unique username.
              </div>
            </div>

            <div class="form-floating mb-3">
              <input
                class="form-control custom-input"
                type="email"
                id="email"
                name="email"
                placeholder="name@example.com"
                required
              />
              <label for="email">Email Address</label>
              <div class="invalid-feedback">Please provide a valid email.</div>
            </div>

            <div class="form-floating mb-4">
              <input
                class="form-control custom-input"
                type="password"
                id="password"
                name="password"
                placeholder="Password"
                required
              />
              <label for="password">Password</label>
              <div class="invalid-feedback">Choose a secure password.</div>
            </div>

            <button class="btn btn-nova-auth w-100 py-3 mb-3">
              Create Account <i class="bi bi-person-plus ms-2"></i>
            </button>
          </form>

          <div class="auth-footer text-center mt-4">
            <p class="text-muted small">
              Already a member?
              <a
                href="/login"
                class="text-primary fw-bold text-decoration-none ms-1"
                >Sign in here</a
              >
            </p>
          </div>
        </div>
      </div>

      <div class="text-center mt-4">
        <a href="/products" class="text-muted small text-decoration-none">
          <i class="bi bi-chevron-left"></i> Back to Shop
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  /* Reuse Global Auth Styles */
  .auth-card {
    border-radius: 24px;
    overflow: hidden;
    background: #ffffff;
    transition: var(--transition);
  }

  .auth-header-img {
    height: 160px;
    overflow: hidden;
  }

  .auth-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: brightness(0.8) contrast(1.1);
  }

  .auth-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    color: white;
    width: 100%;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  }

  .auth-brand {
    font-weight: 800;
    letter-spacing: -1.5px;
    font-size: 2.2rem;
  }

  /* Form Inputs matching the Premium Zinc style */
  .custom-input {
    border: 1.5px solid #f1f5f9;
    background-color: #f8fafc;
    border-radius: 12px;
    transition: all 0.2s ease;
  }

  .custom-input:focus {
    background-color: #ffffff;
    border-color: #2563eb;
    box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
  }

  /* Action Button - Black Zinc to Blue transition */
  .btn-nova-auth {
    background: #09090b;
    color: white;
    border: none;
    border-radius: 12px;
    font-weight: 700;
    transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
  }

  .btn-nova-auth:hover {
    background: #2563eb;
    transform: translateY(-2px);
    box-shadow: 0 10px 20px rgba(37, 99, 235, 0.2);
    color: white;
  }
</style>

<script>
  (function () {
    "use strict";
    const forms = document.querySelectorAll(".validated-form");
    Array.from(forms).forEach(function (form) {
      form.addEventListener(
        "submit",
        function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add("was-validated");
        },
        false
      );
    });
  })();
</script>
